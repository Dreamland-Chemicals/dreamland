{% extends "layouts/page.html" %}

{% block content %}
{% include "layouts/social.html" %}
<section id="main-content">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title font-weight-bold text-info">
                <i class="fa fa-shopping-cart"></i>
                Place Your Order
            </h3>
        </div>
        <div class="card-body">
            {% if customer %}
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Customer Details</h3>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li class="font-weight-bold text-info">First Names</li>
                            <li class="font-weight-bold text-info">Surname</li>
                            <li class="font-weight-bold text-info">Cell</li>
                            <li class="font-weight-bold text-info">Address
                                <ol>
                                    <li class="font-weight-bold text-info">Postal Address</li>
                                    <li class="font-weight-bold text-info">Box / Private Bag: </li>
                                    <li class="font-weight-bold text-info">Town / City: </li>
                                    <li class="font-weight-bold text-info">Province: </li>
                                    <li class="font-weight-bold text-info">Postal Code: </li>
                                </ol>
                                <ol>
                                    <li class="font-weight-bold text-info">Physical Address</li>
                                    <li class="font-weight-bold text-info">Box / Private Bag: </li>
                                    <li class="font-weight-bold text-info">Town / City: </li>
                                    <li class="font-weight-bold text-info">Province: </li>
                                    <li class="font-weight-bold text-info">Postal Code: </li>
                                </ol>

                            </li>
                        </ul>
                    </div>
                </div>
            {% else %}
                <div class="card">
                <div class="card-header">
                    <h3 class="card-title font-weight-bold text-info">
                        <i class="fa fa-user"></i>
                        Customer Details
                    </h3>
                </div>
                    <form id="customer_details" method="POST" action="{{ url_for('cart.capture_customer_details') }}">
                        <div class="form-group">
                            <label for="customerName" class="font-weight-bold">Your Name:</label>
                            <input type="text" class="form-control" id="full_names" name="full_names" required>
                        </div>
                        <div class="form-group">
                            <label for="surname" class="font-weight-bold">Surname:</label>
                            <input type="text" class="form-control" id="surname" name="surname" required>
                        </div>

                        <div class="form-group">
                            <label for="email" class="font-weight-bold">Email:</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>

                        <div class="form-group">
                            <label for="contact_number" class="font-weight-bold">Phone Number:</label>
                            <input type="tel" class="form-control" id="contact_number" name="contact_number" required>
                        </div>
                        <button type="submit" class="btn btn-success mt-3">
                            <i class="fa fa-user-circle"> </i>
                            Customer Details
                        </button>
                    </form>
                </div>

            {% endif %}

            <form id="orderForm" method="POST" action="/place_order">
                <h4>Order Items:</h4>
                <div id="orderItems">
                    <div class="form-row">
                        <div class="col">
                            <input type="text" class="form-control" name="productName[]" placeholder="Product Name" required>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" name="quantity[]" placeholder="Quantity" required>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" name="price[]" placeholder="Price" required>
                        </div>
                    </div>
                </div>
                <a href="{{ url_for('cart.get_cart') }}" type="button" class="btn btn-primary mt-3" id="addItemBtn">Add Item</a>
                <button type="submit" class="btn btn-success mt-3">Place Order</button>
            </form>
        </div>
    </div>

    <!-- View Previous Orders Section -->
    <div class="card mt-4">
        <div class="card-header">
            <h3 class="card-title font-weight-bold text-info">
                <i class="fa fa-history"></i>
                Previous Orders
            </h3>
        </div>
        <div class="card-body">
            <!-- Display previous orders here -->
            <p>No previous orders found.</p>
        </div>
    </div>

    <!-- View Current Orders Section -->
    <div class="card mt-4">
        <div class="card-header">
            <h3 class="card-title font-weight-bold text-info">
                <i class="fa fa-list-alt"></i>
                Current Orders
            </h3>
        </div>
        <div class="card-body">
            <!-- Display current orders here -->
            <p>No current orders found.</p>
        </div>
    </div>
</section>

{% endblock %}
